<!DOCTYPE html>
<html>
<head>
<style type="text/css">
#states path {
  fill: none;
  stroke: #999;
  stroke-width: 1px;
}
</style>
<script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>
<script>
var projection = d3.geo.albers().scale(1400).translate([680, 360]);

var path = d3.geo.path()
    .projection(projection);

var OPPoint = function(opEntry) {
  return "translate(" + projection([opEntry.lon, opEntry.lat]).join(',') + ")";
};

var svg = d3.select("body").append("svg:svg")
    .attr("class", "Blues")
    .attr("width", 1280)
    .attr("height", 800);

var states = svg.append("svg:g")
    .attr("id", "states");

var waypoints = svg.append("svg:g")
    .attr("id", "waypoints");

d3.json("us-states.json", function(json) {
  states.selectAll("path")
      .data(json.features)
    .enter().append("svg:path")
      .attr("d", path);
});

d3.json("openpaths_davidstolarsky.json", function(op) {
  waypoints.selectAll("circle")
      .data(op)
    .enter().append("svg:circle")
      .attr("cx", 0)
      .attr("cy", 0)
      .attr("r", 0.5)
      .attr("transform", OPPoint);
});

d3.select("select").on("change", function() {
  d3.selectAll("svg").attr("class", this.value);
});
</script>
</body>
</html>
